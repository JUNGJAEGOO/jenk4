<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../nhnfavicon.ico">

	      <title>Toast Cloud Document</title>

        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <link href="../../../css/base.css" rel="stylesheet">
		    <!-- <link href="http://alpha-www.toast.com/share/common/css/common-1.0.min.css" rel="stylesheet"> -->
        <link href="../../../css/common-1.0.min.css" rel="stylesheet">
        <link href="../../../css/custom_tc_theme.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    </head>
	<body>
	<header id="header">
        </header>
        <div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div>
        <div class="navbar-header" style="padding-top : 30px;">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
 
        </div>
        <div class="navbar-collapse collapse">
		
                    </ul>
                </li>

    	    </ul>
        </div>
    </div>
</div>        <div class="container" style="margin-top: 100px;">
            <div class="col-md-2">
            	<div class="side_nav_left_wrapper">
	           	<div id="side_nav_left" class="side-nav">
	            		<div id="remotenav" class="bs-sidebar hidden-print affix well toc-list" role="complementary"> 
					<ul class="nav bs-sidenav">
						
					</ul>
				</div>
			</div>
		</div>
    	</div>
		


	<div class="col-md-8 content-container" role="main"> 			
		<h2>Common &gt; IAP &gt; Store interlocking information</h2><p>You need to enter application key that store issues to IAP web console to implement in-app purchase.<br/>Refer to below table for application key value that each store issues. </p><h2>Google Play</h2><h3>Google Play Store</h3>
<table>
  <thead>
    <tr>
      <th>Field </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Market ID </td>
      <td>GG in store list </td>
    </tr>
    <tr>
      <td>Market App ID </td>
      <td>application package name in Google Play </td>
    </tr>
    <tr>
      <td>Google In App Purchase License Key </td>
      <td>Public KEY(RSA) in Google Play </td>
    </tr>
    <tr>
      <td>Google API Client ID </td>
      <td>OAuth Client ID in Google API Project </td>
    </tr>
    <tr>
      <td>Google API Client Secret </td>
      <td>OAuth Client Secret in Google API Project </td>
    </tr>
    <tr>
      <td>Refresh Token For Google OAuth </td>
      <td>Refresh Token getting by Google API Client ID, Google API Client Secret </td>
    </tr>
  </tbody>
</table>
<center>[Table. 1] Field for registering app for synchronizing with Google Play Store </center>
<table>
  <thead>
    <tr>
      <th>Field </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Item Name </td>
      <td>item name </td>
    </tr>
    <tr>
      <td>Market Item ID </td>
      <td>in app item ID registered in Google Play Developer Console </td>
    </tr>
  </tbody>
</table>
<center>[Table. 2] Field for registering item for synchronizing with Google Play Store</center><h3>Check application public key in Google Play developer console</h3>
<pre><code>select [Application - Service and API] in Google Play Developer Console
</code></pre><p>![](<a href="http://static.toastoven.net/prod_iap/iap_8.jpg">http://static.toastoven.net/prod_iap/iap_8.jpg</a>)</p>
<blockquote><p>[Reference]  
[Android Developers - Management In App Payment](<a href="http://developer.android.com/google/play/billing/billing_admin.html">http://developer.android.com/google/play/billing/billing_admin.html</a>)</p>
</blockquote><h3>Check OAuth Client in Google API developer console</h3>
<pre><code>Create project in Google API console with the same account as Google Play developer console. 
Create below information required for OAuth verification in reference to below link. 
  
1) Client ID  
2) Client Secret  
3) Refresh Token  
</code></pre>
<blockquote><p>[Reference]  
[Android Developers - Authorization](<a href="https://developers.google.com/identity/protocols/OAuth2WebServer">https://developers.google.com/identity/protocols/OAuth2WebServer</a>)</p>
</blockquote><p><br/></p>
<pre><code>1. Create authorization credentials
  
  1) Go to https://console.developers.google.com
  
  2) Click Create credentials &gt; OAuth client ID
  
  3) Complete the form.
      - application type : Web application
      - name : as you want
      - redirect URIs : http://localhost:8080
  
</code></pre><p><img src="http://static.toastoven.net/prod_iap/iap_47.png" alt="Figure. 1 Create authorization credentials" /><br/><center>[Figure. 1 Create authorization credentials] </center></p><p><img src="http://static.toastoven.net/prod_iap/iap_48.png" alt="Figure. 2 Create authorization credentials" /><br/><center>[Figure. 2 Create authorization credentials] </center></p>
<pre><code>2. Obtaining OAuth2.0 access tokens
  
  1) Redirect to Google&#39;s OAuth 2.0 server
    sample url is shown below. you should change {client_id} to your real Client ID obtained before.

    https://accounts.google.com/o/oauth2/v2/auth?scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fandroidpublisher&amp;access_type=offline&amp;include_granted_scopes=true&amp;state=state_parameter_passthrough_value&amp;redirect_uri=http://localhost&amp;response_type=code&amp;client_id={client_id}
  
  
  2) Handle the OAuth 2.0 server response
    above url produces respose as following, 4/P7q7W91a-oMsCeLvIaQm6bTrgtp7 value is your code.
  
    https://oauth2.example.com/auth?code=4/P7q7W91a-oMsCeLvIaQm6bTrgtp7 
  
  4) Exchange authorization code for refresh and access tokens
  
      - URL : https://www.googleapis.com/oauth2/v4/token
      - Method : POST     
      - Headers : Content-Type = application/x-www-form-urlencoded
      - Body Sample :
            code=4/P7q7W91a-oMsCeLvIaQm6bTrgtp7&amp;
            client_id=your_client_id&amp;
            client_secret=your_client_secret&amp;
            redirect_uri=https://oauth2.example.com/code&amp;
            grant_type=authorization_code
            
            
      - sample response : you can get refresh_token
        {
          &quot;access_token&quot;:&quot;1/fFAGRNJru1FTz70BzhT3Zg&quot;,
          &quot;expires_in&quot;:3920,
          &quot;token_type&quot;:&quot;Bearer&quot;,
          &quot;refresh_token&quot;:&quot;1/xEoDL4iW3cxlI7yDbSRFYNG01kVKM2C-259HOF2aQbI&quot;
        }                    
</code></pre><p><img src="http://static.toastoven.net/prod_iap/iap_49.jpg" alt="Figure. 3 Creation Refresh Token" /><br/><center>[Figure. 3 Creation Refresh Token]</center></p><p><img src="http://static.toastoven.net/prod_iap/iap_50.jpg" alt="Figure. 4 Creation Refresh Token" /><br/><center>[Figure. 4 Creation Refresh Token]</center></p><h3>AndroidManifest.xml Setting Example</h3>
<pre><code class="xml">&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;
&lt;!-- google iab permission --&gt;
&lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot; /&gt;

&lt;application&gt;
        &lt;activity android:name=&quot;com.nhnent.mobill.api.core.IAPActivity&quot;
	        android:configChanges=&quot;keyboardHidden|orientation|screenSize|locale|layoutDirection&quot;
	        android:theme=&quot;@android:style/Theme.Translucent.NoTitleBar&quot;
	        android:windowSoftInputMode=&quot;adjustResize|stateHidden&quot; /&gt;
        &lt;meta-data android:name=&quot;com.toast.iap.config.appId&quot; android:value=&quot;1000000&quot; /&gt;
        &lt;meta-data android:name=&quot;com.toast.iap.config.market&quot; android:value=&quot;GG&quot; /&gt;
&lt;/application&gt;
</code></pre>
<pre><code>* Android : Refer to  /AndroidManifest-google-example.xml of sample application  
* Unity : Refer to  /Plugins/Android/AndroidManifest-iap-template.xml of Unity Plugin
</code></pre><h3>Google Play Prerequisites</h3><p>Registering app/ item via web console may not be available if you don’t follow below instructions when setting in Google Play.</p>
<pre><code>1. Any application that calls Google APIs needs to enable those APIs in the API Console. To enable the appropriate APIs for your project:
    - Open the Library page in the API Console.
    - Select the project associated with your application. Create a project if you do not have one already.
    - Use the Library page to find each API that your application will use. Click on each API and enable it for your project.


</code></pre><p><img src="http://static.toastoven.net/prod_iap/iap_36_1.png" alt="Figure. 5 Google Play Developer API" /><br/><center>[Figure. 5 Google Play Developer API]</center></p><p><img src="http://static.toastoven.net/prod_iap/iap_37.png" alt="Figure. 6 Google Play Developer API Enable" /><br/><center>[Figure. 6 Google Play Developer API Enable]</center></p>
<pre><code>2. &#39;Check if the API is connected with project ID in &#39;Google Play Developer Console&#39; by visiting [API Access menu]  
  - Go to https://play.google.com/apps/publish
  - Go to [Settings] &gt; [API Access] menu on left     
  - Check if project is successfully connected
</code></pre><p><img src="http://static.toastoven.net/prod_iap/iap_38.png" alt="Figure 7 Google Play Developer API Enable" /><br/><center>[Figure 7 Google Play Developer API Enable]</center></p>
<pre><code>3. The account holder of &#39;Google Play Developer Console&#39; needs to be the user who has the authority over project in Google Developers Console.  

</code></pre><p><img src="http://static.toastoven.net/prod_iap/iap_39.jpg" alt="Figure 8 Check in app product ID" /><br/><center>[Figure 8 Check in app product ID]</center></p>
<pre><code>4. In-app item in ‘Google Play Developer Console’ should match with item in Store Item ID.  
</code></pre><h2>One Store Developer Center (ex TStore)</h2><h3>Guide for integrated developer center (3 telecoms)</h3><p>T-store developer center is one-store integrated developer center for Olleh store, U+ store and T-store.<br/>Synchronizing systems for in-app purchase is the same as before; publishing for all three stores is possible using T-store sync information.</p>
<blockquote><p>[Reference]<br/>Naver App store will be transferred to One Store from June 01, 2016.<br/><a href="http://cafe.naver.com/naverappdev/10658">Naver App Store Developer Center</a></p>
</blockquote><h3>One Store</h3><p>[Table. 3] App Form for One Store</p>
<table>
  <thead>
    <tr>
      <th>Field </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Market ID </td>
      <td>select TS in store list </td>
    </tr>
    <tr>
      <td>Market App ID </td>
      <td>AID (Application ID) </td>
    </tr>
  </tbody>
</table><p>[Table. 4] Item Form for One Store</p>
<table>
  <thead>
    <tr>
      <th>Field </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Item Name </td>
      <td>Item Name </td>
    </tr>
    <tr>
      <td>Market Item ID </td>
      <td>Product Id registered in One Store</td>
    </tr>
  </tbody>
</table><h3>Obtaining AID and In-App ID in One Store</h3>
<pre><code>You should check following information in One Store. 
1) AID : Application Id created in One Store 
2) In-App ID : In-App Product Id created in One Store
</code></pre><h3>Add One Store library</h3><p>In order to download IAP Android SDK and sync with T-store, you first need to add below library to project.<br/>Copy files from /libs/tstore folder in downloaded SDK package and paste them to /libs in application project.</p><p><img src="http://static.toastoven.net/prod_iap/iap_41.png" alt="Figure. 9 Add One Store Library" /><br/><center>[Figure. 9 Add One Store Library]</center></p>
<blockquote><p>[Reference]<br/>Adding Library in Unity Project<br/>Copy files from /libs/tstore folder in downloaded SDK package and paste them to /Plugins/Android/iap/libs </p>
</blockquote><h3>AndroidManifest.xml Example</h3><p>Add AndroidManifest.xml setting information as shown below to sync with One store.</p>
<pre><code class="xml">&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;
&lt;!-- Tstore configurations --&gt;
&lt;uses-permission android:name=&quot;android.permission.RECEIVE_SMS &quot; /&gt;
&lt;application&gt;
....
        &lt;!-- TStore configrations --&gt;
        &lt;activity android:name=&quot;com.skplanet.dodo.IapWeb&quot; android:configChanges=&quot;orientation|screenSize|keyboardHidden|locale|layoutDirection&quot; android:excludeFromRecents=&quot;true&quot; android:windowSoftInputMode=&quot;stateHidden&quot; /&gt;
&lt;meta-data android:name=&quot;iap:api_version&quot; android:value=&quot;3&quot; /&gt;
&lt;meta-data android:name=&quot;iap:plugin_mode&quot; android:value=&quot;development&quot; /&gt;
        &lt;activity android:name=&quot;com.nhnent.mobill.api.core.IAPActivity&quot;/&gt;
        &lt;meta-data android:name=&quot;com.toast.iap.config.appId&quot; android:value=&quot;1000000&quot; /&gt;
        &lt;meta-data android:name=&quot;com.toast.iap.config.market&quot; android:value=&quot;TS&quot; /&gt;
&lt;/application&gt;
</code></pre>
<pre><code>- Android: Refer to /AndroidManifest-tstore-example.xml of sample application  
- Unity: Refer to /Plugins/Android/AndroidManifest-iap-tstore-template.xml of Unity Plugin  
- One Store sets development environment in AndroidManifest.xml during purchase.  
  * iap:plugin_mode: development (test), release (production)
</code></pre>
<blockquote><p>[참고]  
[One Store Developer Tools](<a href="http://dev.onestore.co.kr/devpoc/reference/view/Tools">http://dev.onestore.co.kr/devpoc/reference/view/Tools</a>)</p>
</blockquote><p><br/></p>
<blockquote><p>[Reference]<br/>One Store IAP SDK Update<br/>As Android 6.0 is published, One Store highly recommends applying the newest in-app SDK (v.15.01.00).<br/>You need to apply the latest in-app SDK in order to register app via One Store developer center<br/><a href="http://dev.onestore.co.kr/devpoc/support/news/noticeView.omp?noticeId=26472">One Store Reference</a></p>
</blockquote><p><br/></p>
<blockquote><p>[Reference]  
[Naver App Store Transfer](<a href="http://cafe.naver.com/naverappdev/10658">http://cafe.naver.com/naverappdev/10658</a>)</p>
</blockquote><h2>Apple App Store</h2><h3>Apple App Store Form</h3>
<table>
  <thead>
    <tr>
      <th>Field </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Market ID </td>
      <td>select AS in Store list </td>
    </tr>
    <tr>
      <td>Market App ID </td>
      <td>application Bundle Id in iTunes Connect </td>
    </tr>
  </tbody>
</table>
<table>
  <thead>
    <tr>
      <th>Web Console <br/> item field </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Item Name </td>
      <td>item name </td>
    </tr>
    <tr>
      <td>Market Item ID </td>
      <td>product Id in iTunes Connect </td>
    </tr>
  </tbody>
</table><h3>Check Bundle Id and in-app item ID in App Store developer center</h3>
<pre><code>Check below information in iTunes Connect  
1) Bundle Id  
2) Product ID
</code></pre>
<blockquote><p>[Reference]<br/>Suppose you have completed application and item registration to iTunes Connect in order to test in-app purchase.<br/><a href="http://itunesconnect.apple.com">iTunes Connect</a> </p>
</blockquote>
   	</div>

 	
	
	<div class="col-md-2">
		<div id="side_nav_right" class="side-nav">
			<div id="sub-link-nav" role="complementary">
    				<b id="sub-link-category-name" class="main"></b>
    				<ul class="nav">

    				</ul>
			</div>
		</div>
	</div>       
        
</div>

<footer id="footer" class="col-md-12">
</footer>

    <!-- Le javascript -->
    <!-- Placed at the end of the document so the pages load faster -->

    <script src="../../../js/readthedocs-data.js"></script>
    <script src="../../../js/jquery-1.10.2.min.js"></script>
    <script src="../../../js/modernizr-custom.js"></script>
    <script type='text/javascript'>
         if (!Modernizr.matchmedia){
             $.getScript("js/media.match.min.js");
         }
    </script>
    <script src="../../../js/highlight.pack.js"></script>
    <script src="../../../js/enquire.min.js"></script>
    <script>var base_url = '../../..';</script>
    <script src="../../../js/base.js"></script>
    <script src="../../../js/bootstrap-3.0.3.min.js"></script>
    <script src="../../../js/common-1.0.min.js"></script>
    <script src="../../../js/custom.js"></script>
    
	<script src="../../../js/js.cookie.js"></script>
	
	<script language='javascript'>
	if ( document.cookie == "" ){
	console.log("change");
	Cookies.set('ACEFCID', 'UID-59E5799FBC4FC8C9A29963B3',{path: ''});
	Cookies.set('AECUCI', '1',{path: ''});
	Cookies.set('BID', '5L76UVQPYSDFK836992CCGYLA',{path: ''});
	Cookies.set('NNB', '55YK4WMTKOXFS',{path: ''});
	Cookies.set('ttx_did', 'e93d733a-c43b-452c-b3ea-57c49bc5e9f8',{path: ''});
	Cookies.set('userLocale', 'ko_KR',{path: ''});
	}
	</script>
	
    <!-- <script src="../../../js/prettify.js"></script>  -->

        <script language='javascript'>
        var _ag   = 0 ;         // 로그인사용자 나이
        var _id   = '';    		// 로그인사용자 아이디
        var _mr   = '';        	// 로그인사용자 결혼여부 ('single' , 'married' )
        var _gd   = '';         // 로그인사용자 성별 ('man' , 'woman')
        var _skey = '' ;        // 내부검색어

        var _jn = '' ;          //  가입탈퇴 ( 'join','withdraw' ) 
        var _jid = '' ;			// 가입시입력한 ID

        var _ud1 = '' ;			// 사용자 정의변수 1 ( 1 ~ 10 정수값)
        var _ud2 = '' ;			// 사용자 정의변수 2 ( 1 ~ 10 정수값)
        var _ud3 = '' ;			// 사용자 정의변수 3 ( 1 ~ 10 정수값)
        </script>
		
		<script language='javascript'>
		$("h2,h3").attr("id", function (arr) {
			return arr;
		});
		</script>
	
	 <script language='javascript'>
		function appendListToSubLinkNav() {

        var $parent_menu = $('ul.dropdown-menu > li.active').parent().parent();
		
        if(!$parent_menu.length) {
            $('#side_nav_right').remove();
        }
        else {
            var depth_stack = [];
            while($parent_menu.is('li')) {
                var temp = $parent_menu;
                depth_stack.push(temp);
                $parent_menu = $parent_menu.parent().parent();
            }
            var title_menu = (depth_stack.length > 1)? depth_stack[depth_stack.length-2] : depth_stack[0];
		    $('#sub-link-category-name').text(title_menu.children("a")[0].innerText);
			var subMenuList = $('li .active').parent().get(0).childNodes;
			for (var i = 0; i < subMenuList.length; i++) {
				$("#sub-link-list").append(subMenuList[i].cloneNode(true));
				$("#sub-link-nav > ul").append(subMenuList[i].cloneNode(true));
			}
		}
	}
	</script>

	
     <!-- <script language='javascript'>
            var _AceGID=(function(){var Inf=['gtp18.acecounter.com','8080','AH2A40934468137','AW','0','NaPm,Ncisy','ALL','0']; var _CI=(!_AceGID)?[]:_AceGID.val;var _N=0;var _T=new Image(0,0);if(_CI.join('.').indexOf(Inf[3])<0){ _T.src =( location.protocol=="https:"?"https://"+Inf[0]:"http://"+Inf[0]+":"+Inf[1]) +'/?cookie'; _CI.push(Inf);  _N=_CI.length; } return {o: _N,val:_CI}; })();
            var _AceCounter=(function(){var G=_AceGID;if(G.o!=0){var _A=G.val[G.o-1];var _G=( _A[0]).substr(0,_A[0].indexOf('.'));var _C=(_A[7]!='0')?(_A[2]):_A[3];	var _U=( _A[5]).replace(/\,/g,'_');var _S=((['<scr','ipt','type="text/javascr','ipt"></scr','ipt>']).join('')).replace('tt','t src="'+location.protocol+ '//cr.acecounter.com/Web/AceCounter_'+_C+'.js?gc='+_A[2]+'&py='+_A[4]+'&gd='+_G+'&gp='+_A[1]+'&up='+_U+'&rd='+(new Date().getTime())+'" t');document.writeln(_S); return _S;} })();
        </script>
	<noscript><img src='http://gtp18.acecounter.com:8080/?uid=AH2A40934468137&je=n&' border='0' width='0' alt=''></noscript> -->

  </body>
</html>
